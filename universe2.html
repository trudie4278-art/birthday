<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Universe</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&family=Poppins:wght@400;500&display=swap');

:root {
  --radius: 16px;
}

/* RESET */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  min-height: 100vh;
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at bottom, #1f0436, #3302a5);
  color: white;
  overflow-x: hidden;
}

/* ‚≠ê BACKGROUND STARS */
.stars {
  position: fixed;
  inset: 0;
  opacity: 0.35;
  z-index: -1;
  background-image: radial-gradient(white 1px, transparent 1px);
  background-size: 40px 40px;
  animation: moveStars 90s linear infinite;
}

@keyframes moveStars {
  from { background-position: 0 0; }
  to { background-position: -1200px 1200px; }
}

/* üåå MAIN SECTION */
.section {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  padding: clamp(20px, 4vw, 48px);
  text-align: center;
}

/* TITLE */
.welcome {
  font-family: 'Space Grotesk', sans-serif;
  font-size: clamp(1.8rem, 3.2vw, 2.6rem);
  font-weight: 600;
}

/* üñºÔ∏è IMAGE */
.image-wrapper {
  width: min(92vw, 560px);
  aspect-ratio: 16 / 9;
  position: relative;
  overflow: hidden;
}

.universe-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: var(--radius);
  transition: transform 0.6s ease, opacity 0.4s ease;
}

.universe-img:hover {
  transform: scale(1.04);
}

/* CAPTION */
.caption {
  position: absolute;
  inset: auto 0 0 0;
  padding: 8px 12px;
  font-size: clamp(0.8rem, 2.5vw, 0.95rem);
  background: linear-gradient(to top, rgba(0,0,0,0.55), transparent);
  opacity: 0.9;
}

/* üîò CONTROLS */
.controls {
  display: flex;
  gap: 14px;
}

button {
  padding: 9px 22px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
  color: white;
  font-size: 0.9rem;
  transition: transform 0.3s ease;
}

button:hover {
  transform: scale(1.05);
}

/* ‚ö™ DOTS */
.dots {
  display: flex;
  gap: 10px;
}

.dot {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  background: rgba(255,255,255,0.35);
  cursor: pointer;
  transition: transform 0.3s, background 0.3s;
}

.dot.active {
  background: white;
  transform: scale(1.3);
}

/* INFO TEXT */
#infoText {
  font-size: clamp(0.85rem, 2.5vw, 1rem);
  opacity: 0.85;
  white-space: pre-line;
}
/* üì± MOBILE */
@media (max-width: 768px) {
  .controls {
    flex-wrap: wrap;
    justify-content: center;
  }
  .universe-img:hover {
    transform: none;
  }
}
/* üå† WHAT'S NEXT BUTTON */
.next-btn {
  margin-top: 26px;
  padding: 12px 30px;
  font-size: 0.95rem;
  border-radius: 999px;
  background: linear-gradient(135deg, #ff7ad9, #7a5cff);
  box-shadow: 0 0 18px rgba(255, 122, 217, 0.35);
  transition: transform 0.35s ease, box-shadow 0.35s ease;
}

.next-btn:hover {
  transform: scale(1.08);
  box-shadow: 0 0 28px rgba(255, 122, 217, 0.6);
}
/* üéÇ CAKE SCREEN (MOBILE FIRST) */
.cake-section {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, #2b1055, #12001f);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  text-align: center;
  padding: 24px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.8s ease;
  z-index: 10;
}

.cake-section.show {
  opacity: 1;
  pointer-events: auto;
}

.fairy-text {
  font-size: 1rem;
  line-height: 1.6;
  opacity: 0.9;
}

/* üéÇ CAKE */
.cake-wrapper {
  position: relative;
  margin-top: 10px;
}

.cake {
  width: 180px;
  height: 90px;
  background: linear-gradient(135deg, #ffd1dc, #ff9acb);
  border-radius: 24px;
  box-shadow: 0 10px 25px rgba(255,105,180,0.4);
}
.cake::before {
  content: "";
  position: absolute;
  top: -22px;
  left: 10px;
  width: 160px;
  height: 40px;
  background: linear-gradient(135deg, #ffe6f0, #ff85c0);
  border-radius: 18px;
  box-shadow: 0 14px 40px rgba(255,105,180,0.55);
}
.cake::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 16px;
  background: repeating-linear-gradient(
    -45deg,
    #fff,
    #fff 10px,
    #ffd6e8 10px,
    #ffd6e8 20px
  );
}
/* üïØÔ∏è CANDLE */
.candle {
  position: absolute;
  top: -48px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 48px;
  background: white;
  border-radius: 6px;
}

.flame {
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 22px;
  background: radial-gradient(circle, #ffd700, #ff4500);
  border-radius: 50% 50% 50% 50%;
  animation: flicker 0.15s infinite alternate;
}

@keyframes flicker {
  from { transform: translateX(-50%) scale(1); }
  to { transform: translateX(-50%) scale(1.1); }
}

.wish-text {
  margin-top: 14px;
  font-size: 0.95rem;
  opacity: 0.85;
}
</style>
</head>

<body>

<div class="stars"></div>

<main class="section">
  <h1 class="welcome">Welcome to your universe üí´ü™êüåô</h1>

  <div class="image-wrapper">
    <img id="universeImg" class="universe-img" src="" alt="Universe image">
    <div class="caption" id="caption"></div>
  </div>

  <div class="controls">
    <button onclick="prevImage()">‚óÄ Prev</button>
    <button onclick="nextImage()">Next ‚ñ∂</button>
  </div>

  <div class="dots" id="dots"></div>

  <p id="infoText"></p>
  <button class="next-btn" onclick="goNext()">What's next‚ú®</button>
</main>
<!-- üéÇ CAKE SECTION -->
<section class="cake-section" id="cakeSection">
  <p class="fairy-text">
    Ta l√† b√† ti√™n ‚ú®  
    H√£y ∆∞·ªõc m·ªôt ƒëi·ªÅu th·∫≠t ƒë·∫πp‚Ä¶  
    r·ªìi tap v√†o m√†n h√¨nh ƒë·ªÉ th·ªïi n·∫øn üïØÔ∏è
  </p>

  <div class="cake-wrapper" onclick="blowCandle()">
    <div class="candle">
      <div class="flame" id="flame"></div>
    </div>
    <div class="cake"></div>
  </div>

  <p class="wish-text" id="wishText"></p>
</section>

<script>
/* üîê GET BIRTHDAY */
const birthday = localStorage.getItem("birthday");

if (!birthday) {
  window.location.href = "index.html";
}

/* PARSE DAY & MONTH (ƒÉn m·ªçi format) */
const parts = birthday.match(/\d+/g);
const day = Number(parts[0]);
const month = Number(parts[1]);

/* BLOCK WRONG DATE */
if (!(day === 29 && month === 1)) {
  alert("This universe opens only on a very special day ‚ú®");
  window.location.href = "index.html";
}

/* ELEMENTS */
const img = document.getElementById("universeImg");
const captionEl = document.getElementById("caption");
const dotsContainer = document.getElementById("dots");
const infoText = document.getElementById("infoText");
/* GALLERY */
let gallery = [
  { src: "images/aquar.jpg", caption: "We were born to shine ‚ú®" },
  { src: "images/aquar1.jpg", caption: "Shine in your own way üí´" },
  { src: "images/aquar2.jpg", caption: "You were never meant to stay small üåå" }
];

let currentIndex = 0;
let autoSlideInterval;

infoText.innerText =
`Born on ${birthday}
Zodiac: Aquarius ‚ôí
This day marks the beginning of your light üí´`;

/* FUNCTIONS */
function showImage(index) {
  img.style.opacity = 0;
  setTimeout(() => {
    img.src = gallery[index].src;
    captionEl.innerText = gallery[index].caption;
    updateDots();
    img.style.opacity = 1;
  }, 250);
}

function createDots() {
  dotsContainer.innerHTML = "";
  gallery.forEach((_, i) => {
    const dot = document.createElement("div");
    dot.className = "dot";
    dot.onclick = () => {
      currentIndex = i;
      resetAutoSlide();
      showImage(currentIndex);
    };
    dotsContainer.appendChild(dot);
  });
}

function updateDots() {
  document.querySelectorAll(".dot").forEach((dot, i) => {
    dot.classList.toggle("active", i === currentIndex);
  });
}

function nextImage() {
  currentIndex = (currentIndex + 1) % gallery.length;
  resetAutoSlide();
  showImage(currentIndex);
}

function prevImage() {
  currentIndex = (currentIndex - 1 + gallery.length) % gallery.length;
  resetAutoSlide();
  showImage(currentIndex);
}

function startAutoSlide() {
  autoSlideInterval = setInterval(() => {
    currentIndex = (currentIndex + 1) % gallery.length;
    showImage(currentIndex);
  }, 4000);
}

function resetAutoSlide() {
  clearInterval(autoSlideInterval);
  startAutoSlide();
}
/* INIT */
createDots();
showImage(0);
startAutoSlide();
function goNext() {
  document.querySelector("main").style.display = "none";
  document.getElementById("cakeSection").classList.add("show");
}
let candleBlown = false;

function blowCandle() {
  if (candleBlown) return;

  candleBlown = true;
  document.getElementById("flame").style.opacity = 0;

  document.getElementById("wishText").innerText =
    "ƒêi·ªÅu ∆∞·ªõc c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c v≈© tr·ª• l·∫Øng nghe üåô‚ú®";
}
</script>

</body>
</html>
